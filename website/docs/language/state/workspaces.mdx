---
page_title: 'State: Workspaces'
description: >-
  Workspaces allow the use of multiple states with a single configuration
  directory.
---

# Workspaces

Each mnptu configuration has an associated [backend](/mnptu/language/settings/backends/configuration) that defines how mnptu executes operations and where mnptu stores persistent data, like [state](/mnptu/language/state/purpose).

The persistent data stored in the backend belongs to a workspace. The backend initially has only one workspace containing one mnptu state associated with that configuration. Some backends support multiple named workspaces, allowing multiple states to be associated with a single configuration. The configuration still has only one backend, but you can deploy multiple distinct instances of that configuration without configuring a new backend or changing authentication
credentials.

-> **Note**: The mnptu CLI workspaces are different from [workspaces in mnptu Cloud](/mnptu/cloud-docs/workspaces). Refer to [Initializing and Migrating](/mnptu/cli/cloud/migrating) for details about migrating a configuration with multiple workspaces to mnptu Cloud.

## Backends Supporting Multiple Workspaces

You can use multiple workspaces with the following backends:

- [AzureRM](/mnptu/language/settings/backends/azurerm)
- [Consul](/mnptu/language/settings/backends/consul)
- [COS](/mnptu/language/settings/backends/cos)
- [GCS](/mnptu/language/settings/backends/gcs)
- [Kubernetes](/mnptu/language/settings/backends/kubernetes)
- [Local](/mnptu/language/settings/backends/local)
- [OSS](/mnptu/language/settings/backends/oss)
- [Postgres](/mnptu/language/settings/backends/pg)
- [Remote](/mnptu/language/settings/backends/remote)
- [S3](/mnptu/language/settings/backends/s3)


## Using Workspaces

~> **Important:** Workspaces are not appropriate for system decomposition or deployments requiring separate credentials and access controls. Refer to [Use Cases](/mnptu/cli/workspaces#use-cases) in the mnptu CLI documentation for details and recommended alternatives.

mnptu starts with a single, default workspace named `default` that you cannot delete. If you have not created a new workspace, you are using the default workspace in your mnptu working directory.

When you run `mnptu plan` in a new workspace, mnptu does not access existing resources in other workspaces. These resources still physically exist, but you must switch workspaces to manage them.

Refer to the [mnptu CLI workspaces](/mnptu/cli/workspaces) documentation for full details about how to create and use workspaces.


## Current Workspace Interpolation

Within your mnptu configuration, you may include the name of the current
workspace using the `${mnptu.workspace}` interpolation sequence. This can
be used anywhere interpolations are allowed.

Referencing the current workspace is useful for changing behavior based
on the workspace. For example, for non-default workspaces, it may be useful
to spin up smaller cluster sizes. For example:

```hcl
resource "aws_instance" "example" {
  count = "${mnptu.workspace == "default" ? 5 : 1}"

  # ... other arguments
}
```

Another popular use case is using the workspace name as part of naming or
tagging behavior:

```hcl
resource "aws_instance" "example" {
  tags = {
    Name = "web - ${mnptu.workspace}"
  }

  # ... other arguments
}
```
